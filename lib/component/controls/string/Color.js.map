{"version":3,"sources":["component/controls/string/Color.js"],"names":["ColorControl","args","onChange","bind","shouldComponentUpdate","nextProps","props","value","name","actions","validate","change","render","schema","meta","disabled","readOnly","title","description","error","touched","invalid","message","className","displayName","propTypes","object","isRequired","type","format"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAYqBA,Y;;;AAEjB,gCAAqB;AAAA;;AAAA,8CAANC,IAAM;AAANA,oBAAM;AAAA;;AAAA,yDACjB,gDAASA,IAAT,EADiB;;AAEjB,kBAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,OAAhB;AAFiB;AAGpB;;+BAEDC,qB,kCAAsBC,S,EAAW;AAC7B,mBAAO,CAAC,+BAAaA,SAAb,EAAwB,KAAKC,KAA7B,CAAR;AACH,S;;+BAEDJ,Q,2BAAkB;AAAA,gBAARK,KAAQ,QAARA,KAAQ;AAAA,yBAKV,KAAKD,KALK;AAAA,gBAGVE,IAHU,UAGVA,IAHU;AAAA,gBAIVC,OAJU,UAIVA,OAJU;AAAA,gBAQVC,QARU,GAUVD,OAVU,CAQVC,QARU;AAAA,gBASVC,MATU,GAUVF,OAVU,CASVE,MATU;;;AAYdA,mBAAOH,IAAP,EAAaD,KAAb;AACAG,qBAASF,IAAT;AAEH,S;;+BAEDI,M,qBAAS;AAAA,0BASD,KAAKN,KATJ;AAAA,gBAGDO,MAHC,WAGDA,MAHC;AAAA,gBAIDN,KAJC,WAIDA,KAJC;AAAA,gBAKDC,IALC,WAKDA,IALC;AAAA,gBAMDM,IANC,WAMDA,IANC;AAAA,gBAODC,QAPC,WAODA,QAPC;AAAA,gBAQDC,QARC,WAQDA,QARC;AAAA,gBAYDC,KAZC,GAcDJ,MAdC,CAYDI,KAZC;AAAA,gBAaDC,WAbC,GAcDL,MAdC,CAaDK,WAbC;AAAA,gBAiBDC,KAjBC,GAmBDL,IAnBC,CAiBDK,KAjBC;AAAA,gBAkBDC,OAlBC,GAmBDN,IAnBC,CAkBDM,OAlBC;;;AAqBL,gBAAMC,UAAUD,WAAWD,KAAX,IAAoBA,MAAMG,OAA1C;;AAEA,gBAAMC,YAAY,uCACd,kBADc,EAEd,KAAKjB,KAFS,CAAlB;;AAKA,mBACI;AAAA;AAAA,kBAAK,WAAWiB,SAAhB;AAEQN,wBACM;AAAA;AAAA;AACE,mCAAU,wBADZ;AAEGA;AAFH,iBADN,GAKM,IAPd;AAUQC,8BACM;AAAA;AAAA;AACE,mCAAU,6BADZ;AAEGA;AAFH,iBADN,GAKM,IAfd;AAiBI;AACI,8BAAUH,QADd;AAEI,8BAAUC,QAFd;AAGI,0BAAK,KAHT;AAII,8BAAU,CAAC,OAAD,CAJd;AAKI,4BAAQ,EAACK,gBAAD,EALZ;AAMI,0BAAMb,IANV;AAOI,2BAAOK,MAPX;AAQI,2BAAON,KARX;AASI,8BAAU,KAAKL,QATnB,GAjBJ;AA2BI,6EAAmBY,IAAnB;AA3BJ,aADJ;AAgCH,S;;;;;yBAxFgBd,Y;;;AA4FrBA,iBAAawB,WAAb,GAA2B,cAA3B;;AAEAxB,iBAAayB,SAAb,GAAyB;AACrBZ,gBAAQ,iBAAUa,MAAV,CAAiBC;AADJ,KAAzB;;AAIA,kCAAgB,UAAUd,MAAV,EAAkB;;AAE9B,YACIA,OAAOe,IAAP,KAAgB,QAAhB,IACGf,OAAOgB,MAAP,KAAkB,OAFzB,EAGE;AACE,mBAAO7B,YAAP;AACH;AAEJ,KATD","file":"Color.js","sourcesContent":["/**\n * @file Color\n * @author leon <ludafa@outlook.com>\n */\n\nimport React, {Component, PropTypes} from 'react';\nimport ColorPicker from 'melon-colorpicker';\nimport shallowEqual from 'melon-core/util/shallowEqual';\nimport {registerControl} from '../../../factory';\nimport ValidityLabel from '../../ValidityLabel';\nimport createStateClassName from '../../../util/createStateClassName';\n\nexport default class ColorControl extends Component {\n\n    constructor(...args) {\n        super(...args);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    shouldComponentUpdate(nextProps) {\n        return !shallowEqual(nextProps, this.props);\n    }\n\n    onChange({value}) {\n\n        const {\n            name,\n            actions\n        } = this.props;\n\n        const {\n            validate,\n            change\n        } = actions;\n\n        change(name, value);\n        validate(name);\n\n    }\n\n    render() {\n\n        const {\n            schema,\n            value,\n            name,\n            meta,\n            disabled,\n            readOnly\n        } = this.props;\n\n        const {\n            title,\n            description\n        } = schema;\n\n        const {\n            error,\n            touched\n        } = meta;\n\n        const invalid = touched && error && error.message;\n\n        const className = createStateClassName(\n            'ui-control-color',\n            this.props\n        );\n\n        return (\n            <div className={className}>\n                {\n                    title\n                        ? <header\n                            className=\"ui-control-color-title\">\n                            {title}\n                        </header>\n                        : null\n                }\n                {\n                    description\n                        ? <p\n                            className=\"ui-control-color-decription\">\n                            {description}\n                        </p>\n                        : null\n                }\n                <ColorPicker\n                    disabled={disabled}\n                    readOnly={readOnly}\n                    size=\"xxs\"\n                    variants={['fluid']}\n                    states={{invalid}}\n                    name={name}\n                    rules={schema}\n                    value={value}\n                    onChange={this.onChange} />\n                <ValidityLabel {...meta} />\n            </div>\n        );\n\n    }\n\n}\n\nColorControl.displayName = 'ColorControl';\n\nColorControl.propTypes = {\n    schema: PropTypes.object.isRequired\n};\n\nregisterControl(function (schema) {\n\n    if (\n        schema.type === 'string'\n        && schema.format === 'color'\n    ) {\n        return ColorControl;\n    }\n\n});\n"]}